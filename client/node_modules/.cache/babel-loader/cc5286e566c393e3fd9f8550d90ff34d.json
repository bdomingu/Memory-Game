{"ast":null,"code":"import React from 'react';\nimport clsx from 'clsx';\nimport { Avatar as DefaultAvatar } from '../Avatar';\nimport { useChannelStateContext } from '../../context/ChannelStateContext';\nimport { useChatContext } from '../../context/ChatContext';\nimport { useComponentContext } from '../../context/ComponentContext';\nimport { useTypingContext } from '../../context/TypingContext';\nimport { useTranslationContext } from '../../context/TranslationContext';\n\nvar useJoinTypingUsers = function (names) {\n  var t = useTranslationContext().t;\n  if (!names.length) return null;\n  var name = names[0],\n      rest = names.slice(1);\n  if (names.length === 1) return t('{{ user }} is typing...', {\n    user: name\n  });\n  var MAX_JOINED_USERS = 3;\n  var isLargeArray = names.length > MAX_JOINED_USERS;\n  var joinedUsers = (isLargeArray ? names.slice(0, MAX_JOINED_USERS) : rest).join(', ').trim();\n  if (isLargeArray) return t('{{ users }} and more are typing...', {\n    users: joinedUsers\n  });\n  return t('{{ users }} and {{ user }} are typing...', {\n    user: name,\n    users: joinedUsers\n  });\n};\n/**\n * TypingIndicator lists users currently typing, it needs to be a child of Channel component\n */\n\n\nvar UnMemoizedTypingIndicator = function (props) {\n  var PropAvatar = props.Avatar,\n      _a = props.avatarSize,\n      avatarSize = _a === void 0 ? 32 : _a,\n      threadList = props.threadList;\n\n  var _b = useChannelStateContext('TypingIndicator'),\n      channelConfig = _b.channelConfig,\n      thread = _b.thread;\n\n  var _c = useChatContext('TypingIndicator'),\n      client = _c.client,\n      themeVersion = _c.themeVersion;\n\n  var ContextAvatar = useComponentContext('TypingIndicator').Avatar;\n  var _d = useTypingContext('TypingIndicator').typing,\n      typing = _d === void 0 ? {} : _d;\n  var Avatar = PropAvatar || ContextAvatar || DefaultAvatar;\n  var typingInChannel = !threadList ? Object.values(typing).filter(function (_a) {\n    var _b;\n\n    var parent_id = _a.parent_id,\n        user = _a.user;\n    return (user === null || user === void 0 ? void 0 : user.id) !== ((_b = client.user) === null || _b === void 0 ? void 0 : _b.id) && !parent_id;\n  }) : [];\n  var typingInThread = threadList ? Object.values(typing).filter(function (_a) {\n    var _b;\n\n    var parent_id = _a.parent_id,\n        user = _a.user;\n    return (user === null || user === void 0 ? void 0 : user.id) !== ((_b = client.user) === null || _b === void 0 ? void 0 : _b.id) && parent_id === (thread === null || thread === void 0 ? void 0 : thread.id);\n  }) : [];\n  var typingUserList = (threadList ? typingInThread : typingInChannel).map(function (_a) {\n    var user = _a.user;\n    return (user === null || user === void 0 ? void 0 : user.name) || (user === null || user === void 0 ? void 0 : user.id);\n  }).filter(Boolean);\n  var joinedTypingUsers = useJoinTypingUsers(typingUserList);\n  var isTypingActive = threadList && typingInThread.length || !threadList && typingInChannel.length;\n\n  if ((channelConfig === null || channelConfig === void 0 ? void 0 : channelConfig.typing_events) === false) {\n    return null;\n  }\n\n  if (themeVersion === '2') {\n    if (!isTypingActive) return null;\n    return React.createElement(\"div\", {\n      className: clsx('str-chat__typing-indicator', {\n        'str-chat__typing-indicator--typing': isTypingActive\n      }),\n      \"data-testid\": 'typing-indicator'\n    }, React.createElement(\"div\", {\n      className: 'str-chat__typing-indicator__dots'\n    }, React.createElement(\"span\", {\n      className: 'str-chat__typing-indicator__dot'\n    }), React.createElement(\"span\", {\n      className: 'str-chat__typing-indicator__dot'\n    }), React.createElement(\"span\", {\n      className: 'str-chat__typing-indicator__dot'\n    })), React.createElement(\"div\", {\n      className: 'str-chat__typing-indicator__users',\n      \"data-testid\": 'typing-users'\n    }, joinedTypingUsers));\n  }\n\n  return React.createElement(\"div\", {\n    className: clsx('str-chat__typing-indicator', {\n      'str-chat__typing-indicator--typing': isTypingActive\n    })\n  }, React.createElement(\"div\", {\n    className: 'str-chat__typing-indicator__avatars'\n  }, (threadList ? typingInThread : typingInChannel).map(function (_a, i) {\n    var user = _a.user;\n    return React.createElement(Avatar, {\n      image: user === null || user === void 0 ? void 0 : user.image,\n      key: \"\".concat(user === null || user === void 0 ? void 0 : user.id, \"-\").concat(i),\n      name: (user === null || user === void 0 ? void 0 : user.name) || (user === null || user === void 0 ? void 0 : user.id),\n      size: avatarSize,\n      user: user\n    });\n  })), React.createElement(\"div\", {\n    className: 'str-chat__typing-indicator__dots'\n  }, React.createElement(\"span\", {\n    className: 'str-chat__typing-indicator__dot'\n  }), React.createElement(\"span\", {\n    className: 'str-chat__typing-indicator__dot'\n  }), React.createElement(\"span\", {\n    className: 'str-chat__typing-indicator__dot'\n  })));\n};\n\nexport var TypingIndicator = React.memo(UnMemoizedTypingIndicator);","map":{"version":3,"names":["React","clsx","Avatar","DefaultAvatar","useChannelStateContext","useChatContext","useComponentContext","useTypingContext","useTranslationContext","useJoinTypingUsers","names","t","length","name","rest","slice","user","MAX_JOINED_USERS","isLargeArray","joinedUsers","join","trim","users","UnMemoizedTypingIndicator","props","PropAvatar","_a","avatarSize","threadList","_b","channelConfig","thread","_c","client","themeVersion","ContextAvatar","_d","typing","typingInChannel","Object","values","filter","parent_id","id","typingInThread","typingUserList","map","Boolean","joinedTypingUsers","isTypingActive","typing_events","createElement","className","i","image","key","concat","size","TypingIndicator","memo"],"sources":["/home/betty/web-app-practice/memory-game/client/node_modules/stream-chat-react/dist/components/TypingIndicator/TypingIndicator.js"],"sourcesContent":["import React from 'react';\nimport clsx from 'clsx';\nimport { Avatar as DefaultAvatar } from '../Avatar';\nimport { useChannelStateContext } from '../../context/ChannelStateContext';\nimport { useChatContext } from '../../context/ChatContext';\nimport { useComponentContext } from '../../context/ComponentContext';\nimport { useTypingContext } from '../../context/TypingContext';\nimport { useTranslationContext } from '../../context/TranslationContext';\nvar useJoinTypingUsers = function (names) {\n    var t = useTranslationContext().t;\n    if (!names.length)\n        return null;\n    var name = names[0], rest = names.slice(1);\n    if (names.length === 1)\n        return t('{{ user }} is typing...', {\n            user: name,\n        });\n    var MAX_JOINED_USERS = 3;\n    var isLargeArray = names.length > MAX_JOINED_USERS;\n    var joinedUsers = (isLargeArray ? names.slice(0, MAX_JOINED_USERS) : rest).join(', ').trim();\n    if (isLargeArray)\n        return t('{{ users }} and more are typing...', {\n            users: joinedUsers,\n        });\n    return t('{{ users }} and {{ user }} are typing...', {\n        user: name,\n        users: joinedUsers,\n    });\n};\n/**\n * TypingIndicator lists users currently typing, it needs to be a child of Channel component\n */\nvar UnMemoizedTypingIndicator = function (props) {\n    var PropAvatar = props.Avatar, _a = props.avatarSize, avatarSize = _a === void 0 ? 32 : _a, threadList = props.threadList;\n    var _b = useChannelStateContext('TypingIndicator'), channelConfig = _b.channelConfig, thread = _b.thread;\n    var _c = useChatContext('TypingIndicator'), client = _c.client, themeVersion = _c.themeVersion;\n    var ContextAvatar = useComponentContext('TypingIndicator').Avatar;\n    var _d = useTypingContext('TypingIndicator').typing, typing = _d === void 0 ? {} : _d;\n    var Avatar = PropAvatar || ContextAvatar || DefaultAvatar;\n    var typingInChannel = !threadList\n        ? Object.values(typing).filter(function (_a) {\n            var _b;\n            var parent_id = _a.parent_id, user = _a.user;\n            return (user === null || user === void 0 ? void 0 : user.id) !== ((_b = client.user) === null || _b === void 0 ? void 0 : _b.id) && !parent_id;\n        })\n        : [];\n    var typingInThread = threadList\n        ? Object.values(typing).filter(function (_a) {\n            var _b;\n            var parent_id = _a.parent_id, user = _a.user;\n            return (user === null || user === void 0 ? void 0 : user.id) !== ((_b = client.user) === null || _b === void 0 ? void 0 : _b.id) && parent_id === (thread === null || thread === void 0 ? void 0 : thread.id);\n        })\n        : [];\n    var typingUserList = (threadList ? typingInThread : typingInChannel)\n        .map(function (_a) {\n        var user = _a.user;\n        return (user === null || user === void 0 ? void 0 : user.name) || (user === null || user === void 0 ? void 0 : user.id);\n    })\n        .filter(Boolean);\n    var joinedTypingUsers = useJoinTypingUsers(typingUserList);\n    var isTypingActive = (threadList && typingInThread.length) || (!threadList && typingInChannel.length);\n    if ((channelConfig === null || channelConfig === void 0 ? void 0 : channelConfig.typing_events) === false) {\n        return null;\n    }\n    if (themeVersion === '2') {\n        if (!isTypingActive)\n            return null;\n        return (React.createElement(\"div\", { className: clsx('str-chat__typing-indicator', {\n                'str-chat__typing-indicator--typing': isTypingActive,\n            }), \"data-testid\": 'typing-indicator' },\n            React.createElement(\"div\", { className: 'str-chat__typing-indicator__dots' },\n                React.createElement(\"span\", { className: 'str-chat__typing-indicator__dot' }),\n                React.createElement(\"span\", { className: 'str-chat__typing-indicator__dot' }),\n                React.createElement(\"span\", { className: 'str-chat__typing-indicator__dot' })),\n            React.createElement(\"div\", { className: 'str-chat__typing-indicator__users', \"data-testid\": 'typing-users' }, joinedTypingUsers)));\n    }\n    return (React.createElement(\"div\", { className: clsx('str-chat__typing-indicator', {\n            'str-chat__typing-indicator--typing': isTypingActive,\n        }) },\n        React.createElement(\"div\", { className: 'str-chat__typing-indicator__avatars' }, (threadList ? typingInThread : typingInChannel).map(function (_a, i) {\n            var user = _a.user;\n            return (React.createElement(Avatar, { image: user === null || user === void 0 ? void 0 : user.image, key: \"\".concat(user === null || user === void 0 ? void 0 : user.id, \"-\").concat(i), name: (user === null || user === void 0 ? void 0 : user.name) || (user === null || user === void 0 ? void 0 : user.id), size: avatarSize, user: user }));\n        })),\n        React.createElement(\"div\", { className: 'str-chat__typing-indicator__dots' },\n            React.createElement(\"span\", { className: 'str-chat__typing-indicator__dot' }),\n            React.createElement(\"span\", { className: 'str-chat__typing-indicator__dot' }),\n            React.createElement(\"span\", { className: 'str-chat__typing-indicator__dot' }))));\n};\nexport var TypingIndicator = React.memo(UnMemoizedTypingIndicator);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}