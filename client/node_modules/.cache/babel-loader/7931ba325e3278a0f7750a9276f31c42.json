{"ast":null,"code":"import React, { useCallback } from 'react';\nimport { FileIcon } from 'react-file-utils';\nimport { useMessageInputContext } from '../../context/MessageInputContext';\nimport { useFileState } from './hooks/useFileState';\nimport { CloseIcon, DownloadIcon, LoadingIndicatorIcon, RetryIcon } from './icons';\nexport var AttachmentPreviewList = function () {\n  var _a = useMessageInputContext('AttachmentPreviewList'),\n      fileOrder = _a.fileOrder,\n      imageOrder = _a.imageOrder;\n\n  return React.createElement(\"div\", {\n    className: 'str-chat__attachment-preview-list'\n  }, React.createElement(\"div\", {\n    className: 'str-chat__attachment-list-scroll-container',\n    \"data-testid\": 'attachment-list-scroll-container'\n  }, imageOrder.map(function (id) {\n    return React.createElement(ImagePreviewItem, {\n      id: id,\n      key: id\n    });\n  }), fileOrder.map(function (id) {\n    return React.createElement(FilePreviewItem, {\n      id: id,\n      key: id\n    });\n  })));\n};\n\nvar ImagePreviewItem = function (_a) {\n  var _b;\n\n  var id = _a.id;\n\n  var _c = useMessageInputContext('ImagePreviewItem'),\n      imageUploads = _c.imageUploads,\n      removeImage = _c.removeImage,\n      uploadImage = _c.uploadImage;\n\n  var handleRemove = useCallback(function (e) {\n    e.stopPropagation();\n    removeImage(id);\n  }, [removeImage, id]);\n  var handleRetry = useCallback(function () {\n    return uploadImage(id);\n  }, [uploadImage, id]);\n  var image = imageUploads[id];\n  var state = useFileState(image); // do not display scraped attachments\n\n  if (!image || image.og_scrape_url) return null;\n  return React.createElement(\"div\", {\n    className: 'str-chat__attachment-preview-image',\n    \"data-testid\": 'attachment-preview-image'\n  }, React.createElement(\"button\", {\n    className: 'str-chat__attachment-preview-delete',\n    \"data-testid\": 'image-preview-item-delete-button',\n    disabled: state.uploading,\n    onClick: handleRemove\n  }, React.createElement(CloseIcon, null)), state.failed && React.createElement(\"button\", {\n    className: 'str-chat__attachment-preview-error str-chat__attachment-preview-error-image',\n    \"data-testid\": 'image-preview-item-retry-button',\n    onClick: handleRetry\n  }, React.createElement(RetryIcon, null)), state.uploading && React.createElement(\"div\", {\n    className: 'str-chat__attachment-preview-image-loading'\n  }, React.createElement(LoadingIndicatorIcon, {\n    size: 17\n  })), (image.previewUri || image.url) && React.createElement(\"img\", {\n    alt: image.file.name,\n    className: 'str-chat__attachment-preview-thumbnail',\n    src: (_b = image.previewUri) !== null && _b !== void 0 ? _b : image.url\n  }));\n};\n\nvar FilePreviewItem = function (_a) {\n  var id = _a.id;\n\n  var _b = useMessageInputContext('FilePreviewItem'),\n      fileUploads = _b.fileUploads,\n      removeFile = _b.removeFile,\n      uploadFile = _b.uploadFile;\n\n  var handleRemove = useCallback(function (e) {\n    e.stopPropagation();\n    removeFile(id);\n  }, [removeFile, id]);\n  var handleRetry = useCallback(function () {\n    return uploadFile(id);\n  }, [uploadFile, id]);\n  var file = fileUploads[id];\n  var state = useFileState(file);\n  if (!file) return null;\n  return React.createElement(\"div\", {\n    className: 'str-chat__attachment-preview-file',\n    \"data-testid\": 'attachment-preview-file'\n  }, React.createElement(\"div\", {\n    className: 'str-chat__attachment-preview-file-icon'\n  }, React.createElement(FileIcon, {\n    filename: file.file.name,\n    mimeType: file.file.type,\n    version: '2'\n  })), React.createElement(\"button\", {\n    className: 'str-chat__attachment-preview-delete',\n    \"data-testid\": 'file-preview-item-delete-button',\n    disabled: state.uploading,\n    onClick: handleRemove\n  }, React.createElement(CloseIcon, null)), state.failed && React.createElement(\"button\", {\n    className: 'str-chat__attachment-preview-error str-chat__attachment-preview-error-file',\n    \"data-testid\": 'file-preview-item-retry-button',\n    onClick: handleRetry\n  }, React.createElement(RetryIcon, null)), React.createElement(\"div\", {\n    className: 'str-chat__attachment-preview-file-end'\n  }, React.createElement(\"div\", {\n    className: 'str-chat__attachment-preview-file-name'\n  }, file.file.name), state.finished && React.createElement(\"a\", {\n    className: 'str-chat__attachment-preview-file-download',\n    download: true,\n    href: file.url,\n    rel: 'noreferrer',\n    target: '_blank'\n  }, React.createElement(DownloadIcon, null)), state.uploading && React.createElement(LoadingIndicatorIcon, {\n    size: 17\n  })));\n};","map":{"version":3,"names":["React","useCallback","FileIcon","useMessageInputContext","useFileState","CloseIcon","DownloadIcon","LoadingIndicatorIcon","RetryIcon","AttachmentPreviewList","_a","fileOrder","imageOrder","createElement","className","map","id","ImagePreviewItem","key","FilePreviewItem","_b","_c","imageUploads","removeImage","uploadImage","handleRemove","e","stopPropagation","handleRetry","image","state","og_scrape_url","disabled","uploading","onClick","failed","size","previewUri","url","alt","file","name","src","fileUploads","removeFile","uploadFile","filename","mimeType","type","version","finished","download","href","rel","target"],"sources":["/home/betty/web-app-practice/memory-game/client/node_modules/stream-chat-react/dist/components/MessageInput/AttachmentPreviewList.js"],"sourcesContent":["import React, { useCallback } from 'react';\nimport { FileIcon } from 'react-file-utils';\nimport { useMessageInputContext } from '../../context/MessageInputContext';\nimport { useFileState } from './hooks/useFileState';\nimport { CloseIcon, DownloadIcon, LoadingIndicatorIcon, RetryIcon } from './icons';\nexport var AttachmentPreviewList = function () {\n    var _a = useMessageInputContext('AttachmentPreviewList'), fileOrder = _a.fileOrder, imageOrder = _a.imageOrder;\n    return (React.createElement(\"div\", { className: 'str-chat__attachment-preview-list' },\n        React.createElement(\"div\", { className: 'str-chat__attachment-list-scroll-container', \"data-testid\": 'attachment-list-scroll-container' },\n            imageOrder.map(function (id) { return (React.createElement(ImagePreviewItem, { id: id, key: id })); }),\n            fileOrder.map(function (id) { return (React.createElement(FilePreviewItem, { id: id, key: id })); }))));\n};\nvar ImagePreviewItem = function (_a) {\n    var _b;\n    var id = _a.id;\n    var _c = useMessageInputContext('ImagePreviewItem'), imageUploads = _c.imageUploads, removeImage = _c.removeImage, uploadImage = _c.uploadImage;\n    var handleRemove = useCallback(function (e) {\n        e.stopPropagation();\n        removeImage(id);\n    }, [removeImage, id]);\n    var handleRetry = useCallback(function () { return uploadImage(id); }, [uploadImage, id]);\n    var image = imageUploads[id];\n    var state = useFileState(image);\n    // do not display scraped attachments\n    if (!image || image.og_scrape_url)\n        return null;\n    return (React.createElement(\"div\", { className: 'str-chat__attachment-preview-image', \"data-testid\": 'attachment-preview-image' },\n        React.createElement(\"button\", { className: 'str-chat__attachment-preview-delete', \"data-testid\": 'image-preview-item-delete-button', disabled: state.uploading, onClick: handleRemove },\n            React.createElement(CloseIcon, null)),\n        state.failed && (React.createElement(\"button\", { className: 'str-chat__attachment-preview-error str-chat__attachment-preview-error-image', \"data-testid\": 'image-preview-item-retry-button', onClick: handleRetry },\n            React.createElement(RetryIcon, null))),\n        state.uploading && (React.createElement(\"div\", { className: 'str-chat__attachment-preview-image-loading' },\n            React.createElement(LoadingIndicatorIcon, { size: 17 }))),\n        (image.previewUri || image.url) && (React.createElement(\"img\", { alt: image.file.name, className: 'str-chat__attachment-preview-thumbnail', src: (_b = image.previewUri) !== null && _b !== void 0 ? _b : image.url }))));\n};\nvar FilePreviewItem = function (_a) {\n    var id = _a.id;\n    var _b = useMessageInputContext('FilePreviewItem'), fileUploads = _b.fileUploads, removeFile = _b.removeFile, uploadFile = _b.uploadFile;\n    var handleRemove = useCallback(function (e) {\n        e.stopPropagation();\n        removeFile(id);\n    }, [removeFile, id]);\n    var handleRetry = useCallback(function () { return uploadFile(id); }, [uploadFile, id]);\n    var file = fileUploads[id];\n    var state = useFileState(file);\n    if (!file)\n        return null;\n    return (React.createElement(\"div\", { className: 'str-chat__attachment-preview-file', \"data-testid\": 'attachment-preview-file' },\n        React.createElement(\"div\", { className: 'str-chat__attachment-preview-file-icon' },\n            React.createElement(FileIcon, { filename: file.file.name, mimeType: file.file.type, version: '2' })),\n        React.createElement(\"button\", { className: 'str-chat__attachment-preview-delete', \"data-testid\": 'file-preview-item-delete-button', disabled: state.uploading, onClick: handleRemove },\n            React.createElement(CloseIcon, null)),\n        state.failed && (React.createElement(\"button\", { className: 'str-chat__attachment-preview-error str-chat__attachment-preview-error-file', \"data-testid\": 'file-preview-item-retry-button', onClick: handleRetry },\n            React.createElement(RetryIcon, null))),\n        React.createElement(\"div\", { className: 'str-chat__attachment-preview-file-end' },\n            React.createElement(\"div\", { className: 'str-chat__attachment-preview-file-name' }, file.file.name),\n            state.finished && (React.createElement(\"a\", { className: 'str-chat__attachment-preview-file-download', download: true, href: file.url, rel: 'noreferrer', target: '_blank' },\n                React.createElement(DownloadIcon, null))),\n            state.uploading && React.createElement(LoadingIndicatorIcon, { size: 17 }))));\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}