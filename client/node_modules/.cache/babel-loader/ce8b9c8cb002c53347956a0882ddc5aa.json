{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport React, { Suspense, useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport clsx from 'clsx';\nimport { isMutableRef } from './utils/utils';\nimport { Avatar as DefaultAvatar } from '../Avatar';\nimport { getStrippedEmojiData } from '../Channel/emojiData';\nimport { useComponentContext } from '../../context/ComponentContext';\nimport { useEmojiContext } from '../../context/EmojiContext';\nimport { useMessageContext } from '../../context/MessageContext';\nvar UnMemoizedReactionSelector = React.forwardRef(function (props, ref) {\n  var _a;\n\n  var _b = props.additionalEmojiProps,\n      additionalEmojiProps = _b === void 0 ? {} : _b,\n      propAvatar = props.Avatar,\n      _c = props.detailedView,\n      detailedView = _c === void 0 ? true : _c,\n      propHandleReaction = props.handleReaction,\n      propLatestReactions = props.latest_reactions,\n      propOwnReactions = props.own_reactions,\n      propReactionCounts = props.reaction_counts,\n      propReactionOptions = props.reactionOptions,\n      _d = props.reverse,\n      reverse = _d === void 0 ? false : _d;\n  var contextAvatar = useComponentContext('ReactionSelector').Avatar;\n\n  var _e = useEmojiContext('ReactionSelector'),\n      Emoji = _e.Emoji,\n      emojiConfig = _e.emojiConfig;\n\n  var _f = useMessageContext('ReactionSelector'),\n      contextHandleReaction = _f.handleReaction,\n      message = _f.message;\n\n  var _g = emojiConfig || {},\n      defaultMinimalEmojis = _g.defaultMinimalEmojis,\n      fullEmojiData = _g.emojiData,\n      emojiSetDef = _g.emojiSetDef;\n\n  var Avatar = propAvatar || contextAvatar || DefaultAvatar;\n  var handleReaction = propHandleReaction || contextHandleReaction;\n  var latestReactions = propLatestReactions || (message === null || message === void 0 ? void 0 : message.latest_reactions) || [];\n  var ownReactions = propOwnReactions || (message === null || message === void 0 ? void 0 : message.own_reactions) || [];\n  var reactionCounts = propReactionCounts || (message === null || message === void 0 ? void 0 : message.reaction_counts) || {};\n  var reactionOptions = propReactionOptions || defaultMinimalEmojis;\n  var reactionsAreCustom = !!(propReactionOptions === null || propReactionOptions === void 0 ? void 0 : propReactionOptions.length);\n  var emojiData = useMemo(function () {\n    return reactionsAreCustom ? fullEmojiData : getStrippedEmojiData(fullEmojiData);\n  }, [fullEmojiData, reactionsAreCustom]);\n\n  var _h = useState(null),\n      tooltipReactionType = _h[0],\n      setTooltipReactionType = _h[1];\n\n  var _j = useState(null),\n      tooltipPositions = _j[0],\n      setTooltipPositions = _j[1];\n\n  var targetRef = useRef(null);\n  var tooltipRef = useRef(null);\n  var showTooltip = useCallback(function (event, reactionType) {\n    targetRef.current = event.currentTarget;\n    setTooltipReactionType(reactionType);\n  }, []);\n  var hideTooltip = useCallback(function () {\n    setTooltipReactionType(null);\n    setTooltipPositions(null);\n  }, []);\n  useEffect(function () {\n    var _a, _b, _c;\n\n    if (tooltipReactionType) {\n      var tooltip = (_a = tooltipRef.current) === null || _a === void 0 ? void 0 : _a.getBoundingClientRect();\n      var target = (_b = targetRef.current) === null || _b === void 0 ? void 0 : _b.getBoundingClientRect();\n      var container = isMutableRef(ref) ? (_c = ref.current) === null || _c === void 0 ? void 0 : _c.getBoundingClientRect() : null;\n      if (!tooltip || !target || !container) return;\n      var tooltipPosition = tooltip.width === container.width || tooltip.x < container.x ? 0 : target.left + target.width / 2 - container.left - tooltip.width / 2;\n      var arrowPosition = target.x - tooltip.x + target.width / 2 - tooltipPosition;\n      setTooltipPositions({\n        arrow: arrowPosition,\n        tooltip: tooltipPosition\n      });\n    }\n  }, [tooltipReactionType, ref]);\n\n  var getUsersPerReactionType = function (type) {\n    return latestReactions.map(function (reaction) {\n      var _a, _b;\n\n      if (reaction.type === type) {\n        return ((_a = reaction.user) === null || _a === void 0 ? void 0 : _a.name) || ((_b = reaction.user) === null || _b === void 0 ? void 0 : _b.id);\n      }\n\n      return null;\n    }).filter(Boolean);\n  };\n\n  var iHaveReactedWithReaction = function (reactionType) {\n    return ownReactions.find(function (reaction) {\n      return reaction.type === reactionType;\n    });\n  };\n\n  var getLatestUserForReactionType = function (type) {\n    var _a;\n\n    return ((_a = latestReactions.find(function (reaction) {\n      return reaction.type === type && !!reaction.user;\n    })) === null || _a === void 0 ? void 0 : _a.user) || undefined;\n  };\n\n  return React.createElement(\"div\", {\n    className: clsx('str-chat__reaction-selector str-chat__message-reaction-selector', {\n      'str-chat__reaction-selector--reverse': reverse\n    }),\n    \"data-testid\": 'reaction-selector',\n    ref: ref\n  }, !!tooltipReactionType && detailedView && React.createElement(\"div\", {\n    className: 'str-chat__reaction-selector-tooltip',\n    ref: tooltipRef,\n    style: {\n      left: tooltipPositions === null || tooltipPositions === void 0 ? void 0 : tooltipPositions.tooltip,\n      visibility: tooltipPositions ? 'visible' : 'hidden'\n    }\n  }, React.createElement(\"div\", {\n    className: 'arrow',\n    style: {\n      left: tooltipPositions === null || tooltipPositions === void 0 ? void 0 : tooltipPositions.arrow\n    }\n  }), (_a = getUsersPerReactionType(tooltipReactionType)) === null || _a === void 0 ? void 0 : _a.map(function (user, i, users) {\n    return React.createElement(\"span\", {\n      className: 'latest-user-username',\n      key: \"key-\".concat(i, \"-\").concat(user)\n    }, \"\".concat(user).concat(i < users.length - 1 ? ', ' : ''));\n  })), React.createElement(\"ul\", {\n    className: 'str-chat__message-reactions-list str-chat__message-reactions-options'\n  }, reactionOptions.map(function (reactionOption) {\n    var latestUser = getLatestUserForReactionType(reactionOption.id);\n    var count = reactionCounts && reactionCounts[reactionOption.id];\n    return React.createElement(\"li\", {\n      key: \"item-\".concat(reactionOption.id)\n    }, React.createElement(\"button\", {\n      \"aria-label\": \"Select Reaction: \".concat(reactionOption.name),\n      className: clsx('str-chat__message-reactions-list-item str-chat__message-reactions-option', {\n        'str-chat__message-reactions-option-selected': iHaveReactedWithReaction(reactionOption.id)\n      }),\n      \"data-text\": reactionOption.id,\n      onClick: function (event) {\n        return handleReaction(reactionOption.id, event);\n      }\n    }, !!count && detailedView && React.createElement(\"div\", {\n      className: 'latest-user str-chat__message-reactions-last-user',\n      onClick: hideTooltip,\n      onMouseEnter: function (e) {\n        return showTooltip(e, reactionOption.id);\n      },\n      onMouseLeave: hideTooltip\n    }, latestUser ? React.createElement(Avatar, {\n      image: latestUser.image,\n      name: latestUser.name,\n      size: 20,\n      user: latestUser\n    }) : React.createElement(\"div\", {\n      className: 'latest-user-not-found'\n    })), React.createElement(Suspense, {\n      fallback: null\n    }, React.createElement(\"span\", {\n      className: 'str-chat__message-reaction-emoji'\n    }, React.createElement(Emoji, __assign({\n      data: emojiData,\n      emoji: reactionOption,\n      size: 20\n    }, reactionsAreCustom ? additionalEmojiProps : emojiSetDef)))), Boolean(count) && detailedView && React.createElement(\"span\", {\n      className: 'str-chat__message-reactions-list-item__count'\n    }, count || '')));\n  })));\n});\n/**\n * Component that allows a user to select a reaction.\n */\n\nexport var ReactionSelector = React.memo(UnMemoizedReactionSelector);","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","React","Suspense","useCallback","useEffect","useMemo","useRef","useState","clsx","isMutableRef","Avatar","DefaultAvatar","getStrippedEmojiData","useComponentContext","useEmojiContext","useMessageContext","UnMemoizedReactionSelector","forwardRef","props","ref","_a","_b","additionalEmojiProps","propAvatar","_c","detailedView","propHandleReaction","handleReaction","propLatestReactions","latest_reactions","propOwnReactions","own_reactions","propReactionCounts","reaction_counts","propReactionOptions","reactionOptions","_d","reverse","contextAvatar","_e","Emoji","emojiConfig","_f","contextHandleReaction","message","_g","defaultMinimalEmojis","fullEmojiData","emojiData","emojiSetDef","latestReactions","ownReactions","reactionCounts","reactionsAreCustom","_h","tooltipReactionType","setTooltipReactionType","_j","tooltipPositions","setTooltipPositions","targetRef","tooltipRef","showTooltip","event","reactionType","current","currentTarget","hideTooltip","tooltip","getBoundingClientRect","target","container","tooltipPosition","width","x","left","arrowPosition","arrow","getUsersPerReactionType","type","map","reaction","user","name","id","filter","Boolean","iHaveReactedWithReaction","find","getLatestUserForReactionType","undefined","createElement","className","style","visibility","users","key","concat","reactionOption","latestUser","count","onClick","onMouseEnter","e","onMouseLeave","image","size","fallback","data","emoji","ReactionSelector","memo"],"sources":["/home/betty/web-app-practice/memory-game/client/node_modules/stream-chat-react/dist/components/Reactions/ReactionSelector.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { Suspense, useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport clsx from 'clsx';\nimport { isMutableRef } from './utils/utils';\nimport { Avatar as DefaultAvatar } from '../Avatar';\nimport { getStrippedEmojiData } from '../Channel/emojiData';\nimport { useComponentContext } from '../../context/ComponentContext';\nimport { useEmojiContext } from '../../context/EmojiContext';\nimport { useMessageContext } from '../../context/MessageContext';\nvar UnMemoizedReactionSelector = React.forwardRef(function (props, ref) {\n    var _a;\n    var _b = props.additionalEmojiProps, additionalEmojiProps = _b === void 0 ? {} : _b, propAvatar = props.Avatar, _c = props.detailedView, detailedView = _c === void 0 ? true : _c, propHandleReaction = props.handleReaction, propLatestReactions = props.latest_reactions, propOwnReactions = props.own_reactions, propReactionCounts = props.reaction_counts, propReactionOptions = props.reactionOptions, _d = props.reverse, reverse = _d === void 0 ? false : _d;\n    var contextAvatar = useComponentContext('ReactionSelector').Avatar;\n    var _e = useEmojiContext('ReactionSelector'), Emoji = _e.Emoji, emojiConfig = _e.emojiConfig;\n    var _f = useMessageContext('ReactionSelector'), contextHandleReaction = _f.handleReaction, message = _f.message;\n    var _g = emojiConfig || {}, defaultMinimalEmojis = _g.defaultMinimalEmojis, fullEmojiData = _g.emojiData, emojiSetDef = _g.emojiSetDef;\n    var Avatar = propAvatar || contextAvatar || DefaultAvatar;\n    var handleReaction = propHandleReaction || contextHandleReaction;\n    var latestReactions = propLatestReactions || (message === null || message === void 0 ? void 0 : message.latest_reactions) || [];\n    var ownReactions = propOwnReactions || (message === null || message === void 0 ? void 0 : message.own_reactions) || [];\n    var reactionCounts = propReactionCounts || (message === null || message === void 0 ? void 0 : message.reaction_counts) || {};\n    var reactionOptions = propReactionOptions || defaultMinimalEmojis;\n    var reactionsAreCustom = !!(propReactionOptions === null || propReactionOptions === void 0 ? void 0 : propReactionOptions.length);\n    var emojiData = useMemo(function () { return (reactionsAreCustom ? fullEmojiData : getStrippedEmojiData(fullEmojiData)); }, [fullEmojiData, reactionsAreCustom]);\n    var _h = useState(null), tooltipReactionType = _h[0], setTooltipReactionType = _h[1];\n    var _j = useState(null), tooltipPositions = _j[0], setTooltipPositions = _j[1];\n    var targetRef = useRef(null);\n    var tooltipRef = useRef(null);\n    var showTooltip = useCallback(function (event, reactionType) {\n        targetRef.current = event.currentTarget;\n        setTooltipReactionType(reactionType);\n    }, []);\n    var hideTooltip = useCallback(function () {\n        setTooltipReactionType(null);\n        setTooltipPositions(null);\n    }, []);\n    useEffect(function () {\n        var _a, _b, _c;\n        if (tooltipReactionType) {\n            var tooltip = (_a = tooltipRef.current) === null || _a === void 0 ? void 0 : _a.getBoundingClientRect();\n            var target = (_b = targetRef.current) === null || _b === void 0 ? void 0 : _b.getBoundingClientRect();\n            var container = isMutableRef(ref) ? (_c = ref.current) === null || _c === void 0 ? void 0 : _c.getBoundingClientRect() : null;\n            if (!tooltip || !target || !container)\n                return;\n            var tooltipPosition = tooltip.width === container.width || tooltip.x < container.x\n                ? 0\n                : target.left + target.width / 2 - container.left - tooltip.width / 2;\n            var arrowPosition = target.x - tooltip.x + target.width / 2 - tooltipPosition;\n            setTooltipPositions({\n                arrow: arrowPosition,\n                tooltip: tooltipPosition,\n            });\n        }\n    }, [tooltipReactionType, ref]);\n    var getUsersPerReactionType = function (type) {\n        return latestReactions\n            .map(function (reaction) {\n            var _a, _b;\n            if (reaction.type === type) {\n                return ((_a = reaction.user) === null || _a === void 0 ? void 0 : _a.name) || ((_b = reaction.user) === null || _b === void 0 ? void 0 : _b.id);\n            }\n            return null;\n        })\n            .filter(Boolean);\n    };\n    var iHaveReactedWithReaction = function (reactionType) {\n        return ownReactions.find(function (reaction) { return reaction.type === reactionType; });\n    };\n    var getLatestUserForReactionType = function (type) {\n        var _a;\n        return ((_a = latestReactions.find(function (reaction) { return reaction.type === type && !!reaction.user; })) === null || _a === void 0 ? void 0 : _a.user) ||\n            undefined;\n    };\n    return (React.createElement(\"div\", { className: clsx('str-chat__reaction-selector str-chat__message-reaction-selector', {\n            'str-chat__reaction-selector--reverse': reverse,\n        }), \"data-testid\": 'reaction-selector', ref: ref },\n        !!tooltipReactionType && detailedView && (React.createElement(\"div\", { className: 'str-chat__reaction-selector-tooltip', ref: tooltipRef, style: {\n                left: tooltipPositions === null || tooltipPositions === void 0 ? void 0 : tooltipPositions.tooltip,\n                visibility: tooltipPositions ? 'visible' : 'hidden',\n            } },\n            React.createElement(\"div\", { className: 'arrow', style: { left: tooltipPositions === null || tooltipPositions === void 0 ? void 0 : tooltipPositions.arrow } }), (_a = getUsersPerReactionType(tooltipReactionType)) === null || _a === void 0 ? void 0 :\n            _a.map(function (user, i, users) { return (React.createElement(\"span\", { className: 'latest-user-username', key: \"key-\".concat(i, \"-\").concat(user) }, \"\".concat(user).concat(i < users.length - 1 ? ', ' : ''))); }))),\n        React.createElement(\"ul\", { className: 'str-chat__message-reactions-list str-chat__message-reactions-options' }, reactionOptions.map(function (reactionOption) {\n            var latestUser = getLatestUserForReactionType(reactionOption.id);\n            var count = reactionCounts && reactionCounts[reactionOption.id];\n            return (React.createElement(\"li\", { key: \"item-\".concat(reactionOption.id) },\n                React.createElement(\"button\", { \"aria-label\": \"Select Reaction: \".concat(reactionOption.name), className: clsx('str-chat__message-reactions-list-item str-chat__message-reactions-option', {\n                        'str-chat__message-reactions-option-selected': iHaveReactedWithReaction(reactionOption.id),\n                    }), \"data-text\": reactionOption.id, onClick: function (event) { return handleReaction(reactionOption.id, event); } },\n                    !!count && detailedView && (React.createElement(\"div\", { className: 'latest-user str-chat__message-reactions-last-user', onClick: hideTooltip, onMouseEnter: function (e) { return showTooltip(e, reactionOption.id); }, onMouseLeave: hideTooltip }, latestUser ? (React.createElement(Avatar, { image: latestUser.image, name: latestUser.name, size: 20, user: latestUser })) : (React.createElement(\"div\", { className: 'latest-user-not-found' })))),\n                    React.createElement(Suspense, { fallback: null },\n                        React.createElement(\"span\", { className: 'str-chat__message-reaction-emoji' },\n                            React.createElement(Emoji, __assign({ data: emojiData, emoji: reactionOption, size: 20 }, (reactionsAreCustom ? additionalEmojiProps : emojiSetDef))))),\n                    Boolean(count) && detailedView && (React.createElement(\"span\", { className: 'str-chat__message-reactions-list-item__count' }, count || '')))));\n        }))));\n});\n/**\n * Component that allows a user to select a reaction.\n */\nexport var ReactionSelector = React.memo(UnMemoizedReactionSelector);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}