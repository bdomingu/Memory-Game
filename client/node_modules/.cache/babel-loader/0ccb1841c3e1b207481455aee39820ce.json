{"ast":null,"code":"import { useEffect, useState } from 'react';\nimport { useChatContext } from '../../../context/ChatContext';\nimport { useChannelStateContext } from '../../../context/ChannelStateContext';\nexport var useCooldownTimer = function () {\n  var latestMessageDatesByChannels = useChatContext('useCooldownTimer').latestMessageDatesByChannels;\n  var channel = useChannelStateContext('useCooldownTimer').channel;\n\n  var _a = channel.data || {},\n      cooldownInterval = _a.cooldown,\n      own_capabilities = _a.own_capabilities;\n\n  var _b = useState(),\n      cooldownRemaining = _b[0],\n      setCooldownRemaining = _b[1];\n\n  var skipCooldown = !(own_capabilities === null || own_capabilities === void 0 ? void 0 : own_capabilities.includes('slow-mode'));\n  useEffect(function () {\n    var latestMessageDate = latestMessageDatesByChannels[channel.cid];\n\n    if (!cooldownInterval || !latestMessageDate) {\n      return;\n    }\n\n    var remainingCooldown = Math.round(cooldownInterval - (new Date().getTime() - latestMessageDate.getTime()) / 1000);\n\n    if (remainingCooldown > 0 && !skipCooldown) {\n      setCooldownRemaining(remainingCooldown);\n    }\n  }, [channel.id, cooldownInterval, latestMessageDatesByChannels[channel.cid]]);\n  return {\n    cooldownInterval: cooldownInterval || 0,\n    cooldownRemaining: cooldownRemaining,\n    setCooldownRemaining: setCooldownRemaining\n  };\n};","map":{"version":3,"names":["useEffect","useState","useChatContext","useChannelStateContext","useCooldownTimer","latestMessageDatesByChannels","channel","_a","data","cooldownInterval","cooldown","own_capabilities","_b","cooldownRemaining","setCooldownRemaining","skipCooldown","includes","latestMessageDate","cid","remainingCooldown","Math","round","Date","getTime","id"],"sources":["/home/betty/web-app-practice/memory-game/client/node_modules/stream-chat-react/dist/components/MessageInput/hooks/useCooldownTimer.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { useChatContext } from '../../../context/ChatContext';\nimport { useChannelStateContext } from '../../../context/ChannelStateContext';\nexport var useCooldownTimer = function () {\n    var latestMessageDatesByChannels = useChatContext('useCooldownTimer').latestMessageDatesByChannels;\n    var channel = useChannelStateContext('useCooldownTimer').channel;\n    var _a = (channel.data ||\n        {}), cooldownInterval = _a.cooldown, own_capabilities = _a.own_capabilities;\n    var _b = useState(), cooldownRemaining = _b[0], setCooldownRemaining = _b[1];\n    var skipCooldown = !(own_capabilities === null || own_capabilities === void 0 ? void 0 : own_capabilities.includes('slow-mode'));\n    useEffect(function () {\n        var latestMessageDate = latestMessageDatesByChannels[channel.cid];\n        if (!cooldownInterval || !latestMessageDate) {\n            return;\n        }\n        var remainingCooldown = Math.round(cooldownInterval - (new Date().getTime() - latestMessageDate.getTime()) / 1000);\n        if (remainingCooldown > 0 && !skipCooldown) {\n            setCooldownRemaining(remainingCooldown);\n        }\n    }, [channel.id, cooldownInterval, latestMessageDatesByChannels[channel.cid]]);\n    return {\n        cooldownInterval: cooldownInterval || 0,\n        cooldownRemaining: cooldownRemaining,\n        setCooldownRemaining: setCooldownRemaining,\n    };\n};\n"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,cAAT,QAA+B,8BAA/B;AACA,SAASC,sBAAT,QAAuC,sCAAvC;AACA,OAAO,IAAIC,gBAAgB,GAAG,YAAY;EACtC,IAAIC,4BAA4B,GAAGH,cAAc,CAAC,kBAAD,CAAd,CAAmCG,4BAAtE;EACA,IAAIC,OAAO,GAAGH,sBAAsB,CAAC,kBAAD,CAAtB,CAA2CG,OAAzD;;EACA,IAAIC,EAAE,GAAID,OAAO,CAACE,IAAR,IACN,EADJ;EAAA,IACSC,gBAAgB,GAAGF,EAAE,CAACG,QAD/B;EAAA,IACyCC,gBAAgB,GAAGJ,EAAE,CAACI,gBAD/D;;EAEA,IAAIC,EAAE,GAAGX,QAAQ,EAAjB;EAAA,IAAqBY,iBAAiB,GAAGD,EAAE,CAAC,CAAD,CAA3C;EAAA,IAAgDE,oBAAoB,GAAGF,EAAE,CAAC,CAAD,CAAzE;;EACA,IAAIG,YAAY,GAAG,EAAEJ,gBAAgB,KAAK,IAArB,IAA6BA,gBAAgB,KAAK,KAAK,CAAvD,GAA2D,KAAK,CAAhE,GAAoEA,gBAAgB,CAACK,QAAjB,CAA0B,WAA1B,CAAtE,CAAnB;EACAhB,SAAS,CAAC,YAAY;IAClB,IAAIiB,iBAAiB,GAAGZ,4BAA4B,CAACC,OAAO,CAACY,GAAT,CAApD;;IACA,IAAI,CAACT,gBAAD,IAAqB,CAACQ,iBAA1B,EAA6C;MACzC;IACH;;IACD,IAAIE,iBAAiB,GAAGC,IAAI,CAACC,KAAL,CAAWZ,gBAAgB,GAAG,CAAC,IAAIa,IAAJ,GAAWC,OAAX,KAAuBN,iBAAiB,CAACM,OAAlB,EAAxB,IAAuD,IAArF,CAAxB;;IACA,IAAIJ,iBAAiB,GAAG,CAApB,IAAyB,CAACJ,YAA9B,EAA4C;MACxCD,oBAAoB,CAACK,iBAAD,CAApB;IACH;EACJ,CATQ,EASN,CAACb,OAAO,CAACkB,EAAT,EAAaf,gBAAb,EAA+BJ,4BAA4B,CAACC,OAAO,CAACY,GAAT,CAA3D,CATM,CAAT;EAUA,OAAO;IACHT,gBAAgB,EAAEA,gBAAgB,IAAI,CADnC;IAEHI,iBAAiB,EAAEA,iBAFhB;IAGHC,oBAAoB,EAAEA;EAHnB,CAAP;AAKH,CAtBM"},"metadata":{},"sourceType":"module"}