{"ast":null,"code":"import React, { useState } from 'react';\nimport clsx from 'clsx';\nimport { Modal } from '../Modal';\nimport { ModalGallery as DefaultModalGallery } from './ModalGallery';\nimport { useComponentContext } from '../../context/ComponentContext';\nimport { useTranslationContext } from '../../context/TranslationContext';\n\nvar UnMemoizedGallery = function (props) {\n  var images = props.images;\n\n  var _a = useState(0),\n      index = _a[0],\n      setIndex = _a[1];\n\n  var _b = useState(false),\n      modalOpen = _b[0],\n      setModalOpen = _b[1];\n\n  var _c = useComponentContext('Gallery').ModalGallery,\n      ModalGallery = _c === void 0 ? DefaultModalGallery : _c;\n  var t = useTranslationContext('Gallery').t;\n  var countImagesDisplayedInPreview = 4;\n  var lastImageIndexInPreview = countImagesDisplayedInPreview - 1;\n\n  var toggleModal = function (selectedIndex) {\n    if (modalOpen) {\n      setModalOpen(false);\n    } else {\n      setIndex(selectedIndex);\n      setModalOpen(true);\n    }\n  };\n\n  var renderImages = images.slice(0, countImagesDisplayedInPreview).map(function (image, i) {\n    return i === lastImageIndexInPreview && images.length > countImagesDisplayedInPreview ? React.createElement(\"button\", {\n      className: 'str-chat__gallery-placeholder',\n      key: \"gallery-image-\".concat(i),\n      onClick: function () {\n        return toggleModal(i);\n      },\n      style: {\n        backgroundImage: \"url(\".concat(images[lastImageIndexInPreview].image_url, \")\")\n      }\n    }, React.createElement(\"p\", null, t('{{ imageCount }} more', {\n      imageCount: images.length - countImagesDisplayedInPreview\n    }))) : React.createElement(\"button\", {\n      className: 'str-chat__gallery-image',\n      \"data-testid\": 'gallery-image',\n      key: \"gallery-image-\".concat(i),\n      onClick: function () {\n        return toggleModal(i);\n      }\n    }, React.createElement(\"img\", {\n      alt: 'User uploaded content',\n      src: image.image_url || image.thumb_url\n    }));\n  });\n  var className = clsx('str-chat__gallery', {\n    'str-chat__gallery--square': images.length > lastImageIndexInPreview,\n    'str-chat__gallery-two-rows': images.length > 2\n  });\n  return React.createElement(\"div\", {\n    className: className\n  }, renderImages, React.createElement(Modal, {\n    onClose: function () {\n      return setModalOpen(function (modalOpen) {\n        return !modalOpen;\n      });\n    },\n    open: modalOpen\n  }, React.createElement(ModalGallery, {\n    images: images,\n    index: index\n  })));\n};\n/**\n * Displays images in a simple responsive grid with a light box to view the images.\n */\n\n\nexport var Gallery = React.memo(UnMemoizedGallery);","map":{"version":3,"names":["React","useState","clsx","Modal","ModalGallery","DefaultModalGallery","useComponentContext","useTranslationContext","UnMemoizedGallery","props","images","_a","index","setIndex","_b","modalOpen","setModalOpen","_c","t","countImagesDisplayedInPreview","lastImageIndexInPreview","toggleModal","selectedIndex","renderImages","slice","map","image","i","length","createElement","className","key","concat","onClick","style","backgroundImage","image_url","imageCount","alt","src","thumb_url","onClose","open","Gallery","memo"],"sources":["/home/betty/web-app-practice/memory-game/client/node_modules/stream-chat-react/dist/components/Gallery/Gallery.js"],"sourcesContent":["import React, { useState } from 'react';\nimport clsx from 'clsx';\nimport { Modal } from '../Modal';\nimport { ModalGallery as DefaultModalGallery } from './ModalGallery';\nimport { useComponentContext } from '../../context/ComponentContext';\nimport { useTranslationContext } from '../../context/TranslationContext';\nvar UnMemoizedGallery = function (props) {\n    var images = props.images;\n    var _a = useState(0), index = _a[0], setIndex = _a[1];\n    var _b = useState(false), modalOpen = _b[0], setModalOpen = _b[1];\n    var _c = useComponentContext('Gallery').ModalGallery, ModalGallery = _c === void 0 ? DefaultModalGallery : _c;\n    var t = useTranslationContext('Gallery').t;\n    var countImagesDisplayedInPreview = 4;\n    var lastImageIndexInPreview = countImagesDisplayedInPreview - 1;\n    var toggleModal = function (selectedIndex) {\n        if (modalOpen) {\n            setModalOpen(false);\n        }\n        else {\n            setIndex(selectedIndex);\n            setModalOpen(true);\n        }\n    };\n    var renderImages = images.slice(0, countImagesDisplayedInPreview).map(function (image, i) {\n        return i === lastImageIndexInPreview && images.length > countImagesDisplayedInPreview ? (React.createElement(\"button\", { className: 'str-chat__gallery-placeholder', key: \"gallery-image-\".concat(i), onClick: function () { return toggleModal(i); }, style: {\n                backgroundImage: \"url(\".concat(images[lastImageIndexInPreview].image_url, \")\"),\n            } },\n            React.createElement(\"p\", null, t('{{ imageCount }} more', {\n                imageCount: images.length - countImagesDisplayedInPreview,\n            })))) : (React.createElement(\"button\", { className: 'str-chat__gallery-image', \"data-testid\": 'gallery-image', key: \"gallery-image-\".concat(i), onClick: function () { return toggleModal(i); } },\n            React.createElement(\"img\", { alt: 'User uploaded content', src: image.image_url || image.thumb_url })));\n    });\n    var className = clsx('str-chat__gallery', {\n        'str-chat__gallery--square': images.length > lastImageIndexInPreview,\n        'str-chat__gallery-two-rows': images.length > 2,\n    });\n    return (React.createElement(\"div\", { className: className },\n        renderImages,\n        React.createElement(Modal, { onClose: function () { return setModalOpen(function (modalOpen) { return !modalOpen; }); }, open: modalOpen },\n            React.createElement(ModalGallery, { images: images, index: index }))));\n};\n/**\n * Displays images in a simple responsive grid with a light box to view the images.\n */\nexport var Gallery = React.memo(UnMemoizedGallery);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}