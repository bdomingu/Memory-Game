{"ast":null,"code":"import { useCallback, useMemo } from 'react';\nimport { getStrippedEmojiData } from '../../Channel/emojiData';\nimport { useMessageContext } from '../../../context';\nexport var useProcessReactions = function (params) {\n  var _a = params.additionalEmojiProps,\n      additionalEmojiProps = _a === void 0 ? {} : _a,\n      emojiConfig = params.emojiConfig,\n      propOwnReactions = params.own_reactions,\n      propReactionCounts = params.reaction_counts,\n      propReactionOptions = params.reactionOptions,\n      propReactions = params.reactions;\n  var message = useMessageContext('ReactionsList').message;\n\n  var _b = emojiConfig || {},\n      defaultMinimalEmojis = _b.defaultMinimalEmojis,\n      fullEmojiData = _b.emojiData,\n      emojiSetDef = _b.emojiSetDef;\n\n  var latestReactions = propReactions || message.latest_reactions || [];\n  var ownReactions = propOwnReactions || (message === null || message === void 0 ? void 0 : message.own_reactions) || [];\n  var reactionCounts = propReactionCounts || message.reaction_counts || {};\n  var reactionOptions = propReactionOptions || defaultMinimalEmojis;\n  var reactionsAreCustom = !!(propReactionOptions === null || propReactionOptions === void 0 ? void 0 : propReactionOptions.length);\n  var iHaveReactedWithReaction = useCallback(function (reactionType) {\n    return ownReactions.find(function (reaction) {\n      return reaction.type === reactionType;\n    });\n  }, [ownReactions]);\n  var getEmojiByReactionType = useCallback(function (type) {\n    return reactionOptions.find(function (option) {\n      return option.id === type;\n    });\n  }, [reactionOptions]);\n  var emojiData = useMemo(function () {\n    return reactionsAreCustom ? fullEmojiData : getStrippedEmojiData(fullEmojiData);\n  }, [fullEmojiData, reactionsAreCustom]);\n  var latestReactionTypes = useMemo(function () {\n    return latestReactions.reduce(function (reactionTypes, _a) {\n      var type = _a.type;\n\n      if (reactionTypes.indexOf(type) === -1) {\n        reactionTypes.push(type);\n      }\n\n      return reactionTypes;\n    }, []);\n  }, [latestReactions]);\n  var supportedReactionMap = useMemo(function () {\n    return reactionOptions.reduce(function (acc, _a) {\n      var id = _a.id;\n      acc[id] = true;\n      return acc;\n    }, {});\n  }, [reactionOptions]);\n  var supportedReactionsArePresent = useMemo(function () {\n    return latestReactionTypes.some(function (type) {\n      return supportedReactionMap[type];\n    });\n  }, [latestReactionTypes, supportedReactionMap]);\n  var totalReactionCount = useMemo(function () {\n    return supportedReactionsArePresent ? Object.values(reactionCounts).reduce(function (total, count) {\n      return total + count;\n    }, 0) : 0;\n  }, [reactionCounts, supportedReactionsArePresent]);\n  var aggregatedUserNamesByType = useMemo(function () {\n    return latestReactions.reduce(function (typeMap, _a) {\n      var _b;\n\n      var type = _a.type,\n          user = _a.user;\n      (_b = typeMap[type]) !== null && _b !== void 0 ? _b : typeMap[type] = []; // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\n      typeMap[type].push((user === null || user === void 0 ? void 0 : user.name) || user.id);\n      return typeMap;\n    }, {});\n  }, [latestReactions]);\n  return {\n    additionalEmojiProps: reactionsAreCustom ? additionalEmojiProps : emojiSetDef,\n    aggregatedUserNamesByType: aggregatedUserNamesByType,\n    emojiData: emojiData,\n    getEmojiByReactionType: getEmojiByReactionType,\n    iHaveReactedWithReaction: iHaveReactedWithReaction,\n    latestReactions: latestReactions,\n    latestReactionTypes: latestReactionTypes,\n    reactionCounts: reactionCounts,\n    supportedReactionsArePresent: supportedReactionsArePresent,\n    totalReactionCount: totalReactionCount\n  };\n};","map":{"version":3,"names":["useCallback","useMemo","getStrippedEmojiData","useMessageContext","useProcessReactions","params","_a","additionalEmojiProps","emojiConfig","propOwnReactions","own_reactions","propReactionCounts","reaction_counts","propReactionOptions","reactionOptions","propReactions","reactions","message","_b","defaultMinimalEmojis","fullEmojiData","emojiData","emojiSetDef","latestReactions","latest_reactions","ownReactions","reactionCounts","reactionsAreCustom","length","iHaveReactedWithReaction","reactionType","find","reaction","type","getEmojiByReactionType","option","id","latestReactionTypes","reduce","reactionTypes","indexOf","push","supportedReactionMap","acc","supportedReactionsArePresent","some","totalReactionCount","Object","values","total","count","aggregatedUserNamesByType","typeMap","user","name"],"sources":["/home/betty/web-app-practice/memory-game/client/node_modules/stream-chat-react/dist/components/Reactions/hooks/useProcessReactions.js"],"sourcesContent":["import { useCallback, useMemo } from 'react';\nimport { getStrippedEmojiData } from '../../Channel/emojiData';\nimport { useMessageContext } from '../../../context';\nexport var useProcessReactions = function (params) {\n    var _a = params.additionalEmojiProps, additionalEmojiProps = _a === void 0 ? {} : _a, emojiConfig = params.emojiConfig, propOwnReactions = params.own_reactions, propReactionCounts = params.reaction_counts, propReactionOptions = params.reactionOptions, propReactions = params.reactions;\n    var message = useMessageContext('ReactionsList').message;\n    var _b = emojiConfig || {}, defaultMinimalEmojis = _b.defaultMinimalEmojis, fullEmojiData = _b.emojiData, emojiSetDef = _b.emojiSetDef;\n    var latestReactions = propReactions || message.latest_reactions || [];\n    var ownReactions = propOwnReactions || (message === null || message === void 0 ? void 0 : message.own_reactions) || [];\n    var reactionCounts = propReactionCounts || message.reaction_counts || {};\n    var reactionOptions = propReactionOptions || defaultMinimalEmojis;\n    var reactionsAreCustom = !!(propReactionOptions === null || propReactionOptions === void 0 ? void 0 : propReactionOptions.length);\n    var iHaveReactedWithReaction = useCallback(function (reactionType) { return ownReactions.find(function (reaction) { return reaction.type === reactionType; }); }, [ownReactions]);\n    var getEmojiByReactionType = useCallback(function (type) {\n        return reactionOptions.find(function (option) { return option.id === type; });\n    }, [reactionOptions]);\n    var emojiData = useMemo(function () { return (reactionsAreCustom ? fullEmojiData : getStrippedEmojiData(fullEmojiData)); }, [fullEmojiData, reactionsAreCustom]);\n    var latestReactionTypes = useMemo(function () {\n        return latestReactions.reduce(function (reactionTypes, _a) {\n            var type = _a.type;\n            if (reactionTypes.indexOf(type) === -1) {\n                reactionTypes.push(type);\n            }\n            return reactionTypes;\n        }, []);\n    }, [latestReactions]);\n    var supportedReactionMap = useMemo(function () {\n        return reactionOptions.reduce(function (acc, _a) {\n            var id = _a.id;\n            acc[id] = true;\n            return acc;\n        }, {});\n    }, [reactionOptions]);\n    var supportedReactionsArePresent = useMemo(function () { return latestReactionTypes.some(function (type) { return supportedReactionMap[type]; }); }, [latestReactionTypes, supportedReactionMap]);\n    var totalReactionCount = useMemo(function () {\n        return supportedReactionsArePresent\n            ? Object.values(reactionCounts).reduce(function (total, count) { return total + count; }, 0)\n            : 0;\n    }, [reactionCounts, supportedReactionsArePresent]);\n    var aggregatedUserNamesByType = useMemo(function () {\n        return latestReactions.reduce(function (typeMap, _a) {\n            var _b;\n            var type = _a.type, user = _a.user;\n            (_b = typeMap[type]) !== null && _b !== void 0 ? _b : (typeMap[type] = []);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            typeMap[type].push((user === null || user === void 0 ? void 0 : user.name) || user.id);\n            return typeMap;\n        }, {});\n    }, [latestReactions]);\n    return {\n        additionalEmojiProps: reactionsAreCustom ? additionalEmojiProps : emojiSetDef,\n        aggregatedUserNamesByType: aggregatedUserNamesByType,\n        emojiData: emojiData,\n        getEmojiByReactionType: getEmojiByReactionType,\n        iHaveReactedWithReaction: iHaveReactedWithReaction,\n        latestReactions: latestReactions,\n        latestReactionTypes: latestReactionTypes,\n        reactionCounts: reactionCounts,\n        supportedReactionsArePresent: supportedReactionsArePresent,\n        totalReactionCount: totalReactionCount,\n    };\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}