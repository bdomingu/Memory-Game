{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function () {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n\n        case 7:\n          op = _.ops.pop();\n\n          _.trys.pop();\n\n          continue;\n\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n\n            _.ops.push(op);\n\n            break;\n          }\n\n          if (t[2]) _.ops.pop();\n\n          _.trys.pop();\n\n          continue;\n      }\n\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\n\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\n\nimport { useCallback, useEffect, useRef, useState } from 'react';\nimport throttle from 'lodash.throttle';\nimport uniqBy from 'lodash.uniqby';\nimport { isChannel } from '../utils';\nimport { useChatContext } from '../../../context/ChatContext';\nexport var useChannelSearch = function (_a) {\n  var _b = _a.channelType,\n      channelType = _b === void 0 ? 'messaging' : _b,\n      _c = _a.clearSearchOnClickOutside,\n      clearSearchOnClickOutside = _c === void 0 ? true : _c,\n      _d = _a.disabled,\n      disabled = _d === void 0 ? false : _d,\n      onSearchCallback = _a.onSearch,\n      onSearchExit = _a.onSearchExit,\n      onSelectResult = _a.onSelectResult,\n      _e = _a.searchForChannels,\n      searchForChannels = _e === void 0 ? false : _e,\n      searchFunction = _a.searchFunction,\n      searchQueryParams = _a.searchQueryParams,\n      setChannels = _a.setChannels;\n\n  var _f = useChatContext('useChannelSearch'),\n      client = _f.client,\n      navOpen = _f.navOpen,\n      setActiveChannel = _f.setActiveChannel,\n      themeVersion = _f.themeVersion;\n\n  var _g = useState(false),\n      inputIsFocused = _g[0],\n      setInputIsFocused = _g[1];\n\n  var _h = useState(''),\n      query = _h[0],\n      setQuery = _h[1];\n\n  var _j = useState([]),\n      results = _j[0],\n      setResults = _j[1];\n\n  var _k = useState(false),\n      searching = _k[0],\n      setSearching = _k[1];\n\n  var inputRef = useRef(null);\n  var searchBarRef = useRef(null);\n  var clearState = useCallback(function () {\n    setQuery('');\n    setResults([]);\n    setSearching(false);\n  }, []);\n  var activateSearch = useCallback(function () {\n    setInputIsFocused(true);\n  }, []);\n  var exitSearch = useCallback(function () {\n    var _a;\n\n    setInputIsFocused(false);\n    (_a = inputRef.current) === null || _a === void 0 ? void 0 : _a.blur();\n    clearState();\n    onSearchExit === null || onSearchExit === void 0 ? void 0 : onSearchExit();\n  }, [clearState, onSearchExit]);\n  useEffect(function () {\n    if (disabled) return;\n\n    var clickListener = function (event) {\n      var _a, _b;\n\n      if (!(event.target instanceof HTMLElement)) return;\n      var isInputClick = themeVersion === '2' ? (_a = searchBarRef.current) === null || _a === void 0 ? void 0 : _a.contains(event.target) : (_b = inputRef.current) === null || _b === void 0 ? void 0 : _b.contains(event.target);\n      if (isInputClick) return;\n\n      if (inputIsFocused && (!query || navOpen) || clearSearchOnClickOutside) {\n        exitSearch();\n      }\n    };\n\n    document.addEventListener('click', clickListener);\n    return function () {\n      return document.removeEventListener('click', clickListener);\n    };\n  }, [disabled, inputIsFocused]);\n  useEffect(function () {\n    if (!inputRef.current || disabled) return;\n\n    var handleKeyDown = function (event) {\n      if (event.key === 'Escape') return exitSearch();\n    };\n\n    inputRef.current.addEventListener('keydown', handleKeyDown);\n    return function () {\n      var _a;\n\n      (_a = inputRef.current) === null || _a === void 0 ? void 0 : _a.removeEventListener('keydown', handleKeyDown);\n    };\n  }, []);\n  var selectResult = useCallback(function (result) {\n    return __awaiter(void 0, void 0, void 0, function () {\n      var selectedChannel, newChannel;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            if (!client.userID) return [2\n            /*return*/\n            ];\n            if (!onSelectResult) return [3\n            /*break*/\n            , 2];\n            return [4\n            /*yield*/\n            , onSelectResult({\n              setQuery: setQuery,\n              setResults: setResults,\n              setSearching: setSearching\n            }, result)];\n\n          case 1:\n            _a.sent();\n\n            return [2\n            /*return*/\n            ];\n\n          case 2:\n            if (!isChannel(result)) return [3\n            /*break*/\n            , 3];\n            setActiveChannel(result);\n            selectedChannel = result;\n            return [3\n            /*break*/\n            , 5];\n\n          case 3:\n            newChannel = client.channel(channelType, {\n              members: [client.userID, result.id]\n            });\n            return [4\n            /*yield*/\n            , newChannel.watch()];\n\n          case 4:\n            _a.sent();\n\n            setActiveChannel(newChannel);\n            selectedChannel = newChannel;\n            _a.label = 5;\n\n          case 5:\n            setChannels(function (channels) {\n              return uniqBy(__spreadArray([selectedChannel], channels, true), 'cid');\n            });\n\n            if (clearSearchOnClickOutside) {\n              exitSearch();\n            }\n\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  }, [clearSearchOnClickOutside, client, exitSearch, onSelectResult]);\n  var getChannels = useCallback(function (text) {\n    return __awaiter(void 0, void 0, void 0, function () {\n      var userResponse, channelResponse, _a, channels, users_1, users, error_1;\n\n      var _b, _c, _d, _e, _f, _g;\n\n      return __generator(this, function (_h) {\n        switch (_h.label) {\n          case 0:\n            if (!text || searching) return [2\n            /*return*/\n            ];\n            setSearching(true);\n            _h.label = 1;\n\n          case 1:\n            _h.trys.push([1, 6,, 7]);\n\n            return [4\n            /*yield*/\n            , client.queryUsers(__assign({\n              $or: [{\n                id: {\n                  $autocomplete: text\n                }\n              }, {\n                name: {\n                  $autocomplete: text\n                }\n              }],\n              id: {\n                $ne: client.userID\n              }\n            }, (_b = searchQueryParams === null || searchQueryParams === void 0 ? void 0 : searchQueryParams.userFilters) === null || _b === void 0 ? void 0 : _b.filters), __assign({\n              id: 1\n            }, (_c = searchQueryParams === null || searchQueryParams === void 0 ? void 0 : searchQueryParams.userFilters) === null || _c === void 0 ? void 0 : _c.sort), __assign({\n              limit: 8\n            }, (_d = searchQueryParams === null || searchQueryParams === void 0 ? void 0 : searchQueryParams.userFilters) === null || _d === void 0 ? void 0 : _d.options))];\n\n          case 2:\n            userResponse = _h.sent();\n            if (!searchForChannels) return [3\n            /*break*/\n            , 4];\n            channelResponse = client.queryChannels(__assign({\n              name: {\n                $autocomplete: text\n              }\n            }, (_e = searchQueryParams === null || searchQueryParams === void 0 ? void 0 : searchQueryParams.channelFilters) === null || _e === void 0 ? void 0 : _e.filters), ((_f = searchQueryParams === null || searchQueryParams === void 0 ? void 0 : searchQueryParams.channelFilters) === null || _f === void 0 ? void 0 : _f.sort) || {}, __assign({\n              limit: 5\n            }, (_g = searchQueryParams === null || searchQueryParams === void 0 ? void 0 : searchQueryParams.channelFilters) === null || _g === void 0 ? void 0 : _g.options));\n            return [4\n            /*yield*/\n            , Promise.all([channelResponse, userResponse])];\n\n          case 3:\n            _a = _h.sent(), channels = _a[0], users_1 = _a[1].users;\n            setResults(__spreadArray(__spreadArray([], channels, true), users_1, true));\n            setSearching(false);\n            return [2\n            /*return*/\n            ];\n\n          case 4:\n            return [4\n            /*yield*/\n            , Promise.resolve(userResponse)];\n\n          case 5:\n            users = _h.sent().users;\n            setResults(users);\n            return [3\n            /*break*/\n            , 7];\n\n          case 6:\n            error_1 = _h.sent();\n            clearState();\n            console.error(error_1);\n            return [3\n            /*break*/\n            , 7];\n\n          case 7:\n            setSearching(false);\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  }, [client, searching]);\n  var getChannelsThrottled = throttle(getChannels, 200);\n  var onSearch = useCallback(function (event) {\n    event.preventDefault();\n    if (disabled) return;\n\n    if (searchFunction) {\n      searchFunction({\n        setQuery: setQuery,\n        setResults: setResults,\n        setSearching: setSearching\n      }, event);\n    } else {\n      setQuery(event.target.value);\n      getChannelsThrottled(event.target.value);\n    }\n\n    onSearchCallback === null || onSearchCallback === void 0 ? void 0 : onSearchCallback(event);\n  }, [disabled, getChannelsThrottled, searchFunction]);\n  return {\n    activateSearch: activateSearch,\n    clearState: clearState,\n    exitSearch: exitSearch,\n    inputIsFocused: inputIsFocused,\n    inputRef: inputRef,\n    onSearch: onSearch,\n    query: query,\n    results: results,\n    searchBarRef: searchBarRef,\n    searching: searching,\n    selectResult: selectResult\n  };\n};","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","__generator","body","_","label","sent","trys","ops","f","y","g","verb","Symbol","iterator","v","op","TypeError","pop","push","__spreadArray","to","from","pack","l","ar","Array","slice","concat","useCallback","useEffect","useRef","useState","throttle","uniqBy","isChannel","useChatContext","useChannelSearch","_a","_b","channelType","_c","clearSearchOnClickOutside","_d","disabled","onSearchCallback","onSearch","onSearchExit","onSelectResult","_e","searchForChannels","searchFunction","searchQueryParams","setChannels","_f","client","navOpen","setActiveChannel","themeVersion","_g","inputIsFocused","setInputIsFocused","_h","query","setQuery","_j","results","setResults","_k","searching","setSearching","inputRef","searchBarRef","clearState","activateSearch","exitSearch","current","blur","clickListener","event","target","HTMLElement","isInputClick","contains","document","addEventListener","removeEventListener","handleKeyDown","key","selectResult","selectedChannel","newChannel","userID","channel","members","id","watch","channels","getChannels","text","userResponse","channelResponse","users_1","users","error_1","queryUsers","$or","$autocomplete","name","$ne","userFilters","filters","sort","limit","options","queryChannels","channelFilters","all","console","error","getChannelsThrottled","preventDefault"],"sources":["/home/betty/web-app-practice/memory-game/client/node_modules/stream-chat-react/dist/components/ChannelSearch/hooks/useChannelSearch.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { useCallback, useEffect, useRef, useState } from 'react';\nimport throttle from 'lodash.throttle';\nimport uniqBy from 'lodash.uniqby';\nimport { isChannel } from '../utils';\nimport { useChatContext } from '../../../context/ChatContext';\nexport var useChannelSearch = function (_a) {\n    var _b = _a.channelType, channelType = _b === void 0 ? 'messaging' : _b, _c = _a.clearSearchOnClickOutside, clearSearchOnClickOutside = _c === void 0 ? true : _c, _d = _a.disabled, disabled = _d === void 0 ? false : _d, onSearchCallback = _a.onSearch, onSearchExit = _a.onSearchExit, onSelectResult = _a.onSelectResult, _e = _a.searchForChannels, searchForChannels = _e === void 0 ? false : _e, searchFunction = _a.searchFunction, searchQueryParams = _a.searchQueryParams, setChannels = _a.setChannels;\n    var _f = useChatContext('useChannelSearch'), client = _f.client, navOpen = _f.navOpen, setActiveChannel = _f.setActiveChannel, themeVersion = _f.themeVersion;\n    var _g = useState(false), inputIsFocused = _g[0], setInputIsFocused = _g[1];\n    var _h = useState(''), query = _h[0], setQuery = _h[1];\n    var _j = useState([]), results = _j[0], setResults = _j[1];\n    var _k = useState(false), searching = _k[0], setSearching = _k[1];\n    var inputRef = useRef(null);\n    var searchBarRef = useRef(null);\n    var clearState = useCallback(function () {\n        setQuery('');\n        setResults([]);\n        setSearching(false);\n    }, []);\n    var activateSearch = useCallback(function () {\n        setInputIsFocused(true);\n    }, []);\n    var exitSearch = useCallback(function () {\n        var _a;\n        setInputIsFocused(false);\n        (_a = inputRef.current) === null || _a === void 0 ? void 0 : _a.blur();\n        clearState();\n        onSearchExit === null || onSearchExit === void 0 ? void 0 : onSearchExit();\n    }, [clearState, onSearchExit]);\n    useEffect(function () {\n        if (disabled)\n            return;\n        var clickListener = function (event) {\n            var _a, _b;\n            if (!(event.target instanceof HTMLElement))\n                return;\n            var isInputClick = themeVersion === '2'\n                ? (_a = searchBarRef.current) === null || _a === void 0 ? void 0 : _a.contains(event.target)\n                : (_b = inputRef.current) === null || _b === void 0 ? void 0 : _b.contains(event.target);\n            if (isInputClick)\n                return;\n            if ((inputIsFocused && (!query || navOpen)) || clearSearchOnClickOutside) {\n                exitSearch();\n            }\n        };\n        document.addEventListener('click', clickListener);\n        return function () { return document.removeEventListener('click', clickListener); };\n    }, [disabled, inputIsFocused]);\n    useEffect(function () {\n        if (!inputRef.current || disabled)\n            return;\n        var handleKeyDown = function (event) {\n            if (event.key === 'Escape')\n                return exitSearch();\n        };\n        inputRef.current.addEventListener('keydown', handleKeyDown);\n        return function () {\n            var _a;\n            (_a = inputRef.current) === null || _a === void 0 ? void 0 : _a.removeEventListener('keydown', handleKeyDown);\n        };\n    }, []);\n    var selectResult = useCallback(function (result) { return __awaiter(void 0, void 0, void 0, function () {\n        var selectedChannel, newChannel;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (!client.userID)\n                        return [2 /*return*/];\n                    if (!onSelectResult) return [3 /*break*/, 2];\n                    return [4 /*yield*/, onSelectResult({\n                            setQuery: setQuery,\n                            setResults: setResults,\n                            setSearching: setSearching,\n                        }, result)];\n                case 1:\n                    _a.sent();\n                    return [2 /*return*/];\n                case 2:\n                    if (!isChannel(result)) return [3 /*break*/, 3];\n                    setActiveChannel(result);\n                    selectedChannel = result;\n                    return [3 /*break*/, 5];\n                case 3:\n                    newChannel = client.channel(channelType, { members: [client.userID, result.id] });\n                    return [4 /*yield*/, newChannel.watch()];\n                case 4:\n                    _a.sent();\n                    setActiveChannel(newChannel);\n                    selectedChannel = newChannel;\n                    _a.label = 5;\n                case 5:\n                    setChannels(function (channels) { return uniqBy(__spreadArray([selectedChannel], channels, true), 'cid'); });\n                    if (clearSearchOnClickOutside) {\n                        exitSearch();\n                    }\n                    return [2 /*return*/];\n            }\n        });\n    }); }, [clearSearchOnClickOutside, client, exitSearch, onSelectResult]);\n    var getChannels = useCallback(function (text) { return __awaiter(void 0, void 0, void 0, function () {\n        var userResponse, channelResponse, _a, channels, users_1, users, error_1;\n        var _b, _c, _d, _e, _f, _g;\n        return __generator(this, function (_h) {\n            switch (_h.label) {\n                case 0:\n                    if (!text || searching)\n                        return [2 /*return*/];\n                    setSearching(true);\n                    _h.label = 1;\n                case 1:\n                    _h.trys.push([1, 6, , 7]);\n                    return [4 /*yield*/, client.queryUsers(__assign({ $or: [{ id: { $autocomplete: text } }, { name: { $autocomplete: text } }], id: { $ne: client.userID } }, (_b = searchQueryParams === null || searchQueryParams === void 0 ? void 0 : searchQueryParams.userFilters) === null || _b === void 0 ? void 0 : _b.filters), __assign({ id: 1 }, (_c = searchQueryParams === null || searchQueryParams === void 0 ? void 0 : searchQueryParams.userFilters) === null || _c === void 0 ? void 0 : _c.sort), __assign({ limit: 8 }, (_d = searchQueryParams === null || searchQueryParams === void 0 ? void 0 : searchQueryParams.userFilters) === null || _d === void 0 ? void 0 : _d.options))];\n                case 2:\n                    userResponse = _h.sent();\n                    if (!searchForChannels) return [3 /*break*/, 4];\n                    channelResponse = client.queryChannels(__assign({ name: { $autocomplete: text } }, (_e = searchQueryParams === null || searchQueryParams === void 0 ? void 0 : searchQueryParams.channelFilters) === null || _e === void 0 ? void 0 : _e.filters), ((_f = searchQueryParams === null || searchQueryParams === void 0 ? void 0 : searchQueryParams.channelFilters) === null || _f === void 0 ? void 0 : _f.sort) || {}, __assign({ limit: 5 }, (_g = searchQueryParams === null || searchQueryParams === void 0 ? void 0 : searchQueryParams.channelFilters) === null || _g === void 0 ? void 0 : _g.options));\n                    return [4 /*yield*/, Promise.all([channelResponse, userResponse])];\n                case 3:\n                    _a = _h.sent(), channels = _a[0], users_1 = _a[1].users;\n                    setResults(__spreadArray(__spreadArray([], channels, true), users_1, true));\n                    setSearching(false);\n                    return [2 /*return*/];\n                case 4: return [4 /*yield*/, Promise.resolve(userResponse)];\n                case 5:\n                    users = (_h.sent()).users;\n                    setResults(users);\n                    return [3 /*break*/, 7];\n                case 6:\n                    error_1 = _h.sent();\n                    clearState();\n                    console.error(error_1);\n                    return [3 /*break*/, 7];\n                case 7:\n                    setSearching(false);\n                    return [2 /*return*/];\n            }\n        });\n    }); }, [client, searching]);\n    var getChannelsThrottled = throttle(getChannels, 200);\n    var onSearch = useCallback(function (event) {\n        event.preventDefault();\n        if (disabled)\n            return;\n        if (searchFunction) {\n            searchFunction({\n                setQuery: setQuery,\n                setResults: setResults,\n                setSearching: setSearching,\n            }, event);\n        }\n        else {\n            setQuery(event.target.value);\n            getChannelsThrottled(event.target.value);\n        }\n        onSearchCallback === null || onSearchCallback === void 0 ? void 0 : onSearchCallback(event);\n    }, [disabled, getChannelsThrottled, searchFunction]);\n    return {\n        activateSearch: activateSearch,\n        clearState: clearState,\n        exitSearch: exitSearch,\n        inputIsFocused: inputIsFocused,\n        inputRef: inputRef,\n        onSearch: onSearch,\n        query: query,\n        results: results,\n        searchBarRef: searchBarRef,\n        searching: searching,\n        selectResult: selectResult,\n    };\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}