{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nimport React from 'react';\nimport clsx from 'clsx';\nimport ReactPlayer from 'react-player';\nimport { PlayButton, ProgressBar } from './Audio';\nimport { ImageComponent } from '../Gallery';\nimport { SafeAnchor } from '../SafeAnchor';\nimport { useAudioController } from './hooks/useAudioController';\nimport { useChatContext } from '../../context/ChatContext';\nimport { useChannelStateContext } from '../../context/ChannelStateContext';\nimport { useTranslationContext } from '../../context/TranslationContext';\n\nvar getHostFromURL = function (url) {\n  if (url !== undefined && url !== null) {\n    var trimmedUrl = url.replace(/^(?:https?:\\/\\/)?(?:www\\.)?/i, '').split('/')[0];\n    return trimmedUrl;\n  }\n\n  return null;\n};\n\nvar UnableToRenderCard = function (_a) {\n  var _b;\n\n  var type = _a.type;\n  var t = useTranslationContext('Card').t;\n  return React.createElement(\"div\", {\n    className: clsx('str-chat__message-attachment-card', (_b = {}, _b[\"str-chat__message-attachment-card--\".concat(type)] = type, _b))\n  }, React.createElement(\"div\", {\n    className: 'str-chat__message-attachment-card--content'\n  }, React.createElement(\"div\", {\n    className: 'str-chat__message-attachment-card--text'\n  }, t('this content could not be displayed'))));\n};\n\nvar CardV1 = function (props) {\n  var asset_url = props.asset_url,\n      giphy = props.giphy,\n      image_url = props.image_url,\n      og_scrape_url = props.og_scrape_url,\n      text = props.text,\n      thumb_url = props.thumb_url,\n      title = props.title,\n      title_link = props.title_link,\n      type = props.type;\n  var giphyVersionName = useChannelStateContext('Card').giphyVersion;\n  var image = thumb_url || image_url;\n  var dimensions = {};\n\n  if (type === 'giphy' && typeof giphy !== 'undefined') {\n    var giphyVersion = giphy[giphyVersionName];\n    image = giphyVersion.url;\n    dimensions.height = giphyVersion.height;\n    dimensions.width = giphyVersion.width;\n  }\n\n  if (!title && !title_link && !asset_url && !image) {\n    return React.createElement(UnableToRenderCard, {\n      type: type\n    });\n  }\n\n  if (!title_link && !og_scrape_url) {\n    return null;\n  }\n\n  return React.createElement(\"div\", {\n    className: \"str-chat__message-attachment-card str-chat__message-attachment-card--\".concat(type)\n  }, React.createElement(CardHeader, __assign({}, props, {\n    dimensions: dimensions,\n    image: image\n  })), type !== 'video' && React.createElement(\"div\", {\n    className: 'str-chat__message-attachment-card--content'\n  }, React.createElement(\"div\", {\n    className: 'str-chat__message-attachment-card--flex'\n  }, title && React.createElement(\"div\", {\n    className: 'str-chat__message-attachment-card--title'\n  }, title), text && React.createElement(\"div\", {\n    className: 'str-chat__message-attachment-card--text'\n  }, text), (title_link || og_scrape_url) && React.createElement(SafeAnchor, {\n    className: 'str-chat__message-attachment-card--url',\n    href: title_link || og_scrape_url,\n    rel: 'noopener noreferrer',\n    target: '_blank'\n  }, getHostFromURL(title_link || og_scrape_url)))));\n};\n\nvar SourceLink = function (_a) {\n  var author_name = _a.author_name,\n      url = _a.url;\n  return React.createElement(\"div\", {\n    className: 'str-chat__message-attachment-card--source-link',\n    \"data-testid\": 'card-source-link'\n  }, React.createElement(SafeAnchor, {\n    className: 'str-chat__message-attachment-card--url',\n    href: url,\n    rel: 'noopener noreferrer',\n    target: '_blank'\n  }, author_name || getHostFromURL(url)));\n};\n\nvar CardHeader = function (props) {\n  var asset_url = props.asset_url,\n      dimensions = props.dimensions,\n      image = props.image,\n      image_url = props.image_url,\n      thumb_url = props.thumb_url,\n      title = props.title,\n      type = props.type;\n  var visual = null;\n\n  if (asset_url && type === 'video') {\n    visual = React.createElement(ReactPlayer, {\n      className: 'react-player',\n      controls: true,\n      height: '100%',\n      url: asset_url,\n      width: '100%'\n    });\n  } else if (image) {\n    visual = React.createElement(ImageComponent, {\n      dimensions: dimensions,\n      fallback: title || image,\n      image_url: image_url,\n      thumb_url: thumb_url\n    });\n  }\n\n  return visual ? React.createElement(\"div\", {\n    className: 'str-chat__message-attachment-card--header str-chat__message-attachment-card-react--header',\n    \"data-testid\": 'card-header'\n  }, visual) : null;\n};\n\nvar CardContent = function (props) {\n  var author_name = props.author_name,\n      og_scrape_url = props.og_scrape_url,\n      text = props.text,\n      title = props.title,\n      title_link = props.title_link,\n      type = props.type;\n  var url = title_link || og_scrape_url;\n  return React.createElement(\"div\", {\n    className: 'str-chat__message-attachment-card--content'\n  }, type === 'audio' ? React.createElement(CardAudio, {\n    og: props\n  }) : React.createElement(\"div\", {\n    className: 'str-chat__message-attachment-card--flex'\n  }, url && React.createElement(SourceLink, {\n    author_name: author_name,\n    url: url\n  }), title && React.createElement(\"div\", {\n    className: 'str-chat__message-attachment-card--title'\n  }, title), text && React.createElement(\"div\", {\n    className: 'str-chat__message-attachment-card--text'\n  }, text)));\n};\n\nvar CardV2 = function (props) {\n  var asset_url = props.asset_url,\n      giphy = props.giphy,\n      image_url = props.image_url,\n      thumb_url = props.thumb_url,\n      title = props.title,\n      title_link = props.title_link,\n      type = props.type;\n  var giphyVersionName = useChannelStateContext('CardHeader').giphyVersion;\n  var image = thumb_url || image_url;\n  var dimensions = {};\n\n  if (type === 'giphy' && typeof giphy !== 'undefined') {\n    var giphyVersion = giphy[giphyVersionName];\n    image = giphyVersion.url;\n    dimensions.height = giphyVersion.height;\n    dimensions.width = giphyVersion.width;\n  }\n\n  if (!title && !title_link && !asset_url && !image) {\n    return React.createElement(UnableToRenderCard, null);\n  }\n\n  return React.createElement(\"div\", {\n    className: \"str-chat__message-attachment-card str-chat__message-attachment-card--\".concat(type)\n  }, React.createElement(CardHeader, __assign({}, props, {\n    dimensions: dimensions,\n    image: image\n  })), React.createElement(CardContent, __assign({}, props)));\n};\n\nexport var CardAudio = function (_a) {\n  var _b = _a.og,\n      asset_url = _b.asset_url,\n      author_name = _b.author_name,\n      og_scrape_url = _b.og_scrape_url,\n      text = _b.text,\n      title = _b.title,\n      title_link = _b.title_link;\n\n  var _c = useAudioController(),\n      audioRef = _c.audioRef,\n      isPlaying = _c.isPlaying,\n      progress = _c.progress,\n      seek = _c.seek,\n      togglePlay = _c.togglePlay;\n\n  var url = title_link || og_scrape_url;\n  var dataTestId = 'card-audio-widget';\n  var rootClassName = 'str-chat__message-attachment-card-audio-widget';\n  return React.createElement(\"div\", {\n    className: rootClassName,\n    \"data-testid\": dataTestId\n  }, asset_url && React.createElement(React.Fragment, null, React.createElement(\"audio\", {\n    ref: audioRef\n  }, React.createElement(\"source\", {\n    \"data-testid\": 'audio-source',\n    src: asset_url,\n    type: 'audio/mp3'\n  })), React.createElement(\"div\", {\n    className: 'str-chat__message-attachment-card-audio-widget--first-row'\n  }, React.createElement(\"div\", {\n    className: 'str-chat__message-attachment-audio-widget--play-controls'\n  }, React.createElement(PlayButton, {\n    isPlaying: isPlaying,\n    onClick: togglePlay\n  })), React.createElement(ProgressBar, {\n    onClick: seek,\n    progress: progress\n  }))), React.createElement(\"div\", {\n    className: 'str-chat__message-attachment-audio-widget--second-row'\n  }, url && React.createElement(SourceLink, {\n    author_name: author_name,\n    url: url\n  }), title && React.createElement(\"div\", {\n    className: 'str-chat__message-attachment-audio-widget--title'\n  }, title), text && React.createElement(\"div\", {\n    className: 'str-chat__message-attachment-audio-widget--description'\n  }, text)));\n};\n\nvar UnMemoizedCard = function (props) {\n  var themeVersion = useChatContext('Card').themeVersion;\n  return themeVersion === '2' ? React.createElement(CardV2, __assign({}, props)) : React.createElement(CardV1, __assign({}, props));\n};\n/**\n * Simple Card Layout for displaying links\n */\n\n\nexport var Card = React.memo(UnMemoizedCard);","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","React","clsx","ReactPlayer","PlayButton","ProgressBar","ImageComponent","SafeAnchor","useAudioController","useChatContext","useChannelStateContext","useTranslationContext","getHostFromURL","url","undefined","trimmedUrl","replace","split","UnableToRenderCard","_a","_b","type","createElement","className","concat","CardV1","props","asset_url","giphy","image_url","og_scrape_url","text","thumb_url","title","title_link","giphyVersionName","giphyVersion","image","dimensions","height","width","CardHeader","href","rel","target","SourceLink","author_name","visual","controls","fallback","CardContent","CardAudio","og","CardV2","_c","audioRef","isPlaying","progress","seek","togglePlay","dataTestId","rootClassName","Fragment","ref","src","onClick","UnMemoizedCard","themeVersion","Card","memo"],"sources":["/home/betty/web-app-practice/memory-game/client/node_modules/stream-chat-react/dist/components/Attachment/Card.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React from 'react';\nimport clsx from 'clsx';\nimport ReactPlayer from 'react-player';\nimport { PlayButton, ProgressBar } from './Audio';\nimport { ImageComponent } from '../Gallery';\nimport { SafeAnchor } from '../SafeAnchor';\nimport { useAudioController } from './hooks/useAudioController';\nimport { useChatContext } from '../../context/ChatContext';\nimport { useChannelStateContext } from '../../context/ChannelStateContext';\nimport { useTranslationContext } from '../../context/TranslationContext';\nvar getHostFromURL = function (url) {\n    if (url !== undefined && url !== null) {\n        var trimmedUrl = url.replace(/^(?:https?:\\/\\/)?(?:www\\.)?/i, '').split('/')[0];\n        return trimmedUrl;\n    }\n    return null;\n};\nvar UnableToRenderCard = function (_a) {\n    var _b;\n    var type = _a.type;\n    var t = useTranslationContext('Card').t;\n    return (React.createElement(\"div\", { className: clsx('str-chat__message-attachment-card', (_b = {},\n            _b[\"str-chat__message-attachment-card--\".concat(type)] = type,\n            _b)) },\n        React.createElement(\"div\", { className: 'str-chat__message-attachment-card--content' },\n            React.createElement(\"div\", { className: 'str-chat__message-attachment-card--text' }, t('this content could not be displayed')))));\n};\nvar CardV1 = function (props) {\n    var asset_url = props.asset_url, giphy = props.giphy, image_url = props.image_url, og_scrape_url = props.og_scrape_url, text = props.text, thumb_url = props.thumb_url, title = props.title, title_link = props.title_link, type = props.type;\n    var giphyVersionName = useChannelStateContext('Card').giphyVersion;\n    var image = thumb_url || image_url;\n    var dimensions = {};\n    if (type === 'giphy' && typeof giphy !== 'undefined') {\n        var giphyVersion = giphy[giphyVersionName];\n        image = giphyVersion.url;\n        dimensions.height = giphyVersion.height;\n        dimensions.width = giphyVersion.width;\n    }\n    if (!title && !title_link && !asset_url && !image) {\n        return React.createElement(UnableToRenderCard, { type: type });\n    }\n    if (!title_link && !og_scrape_url) {\n        return null;\n    }\n    return (React.createElement(\"div\", { className: \"str-chat__message-attachment-card str-chat__message-attachment-card--\".concat(type) },\n        React.createElement(CardHeader, __assign({}, props, { dimensions: dimensions, image: image })),\n        type !== 'video' && (React.createElement(\"div\", { className: 'str-chat__message-attachment-card--content' },\n            React.createElement(\"div\", { className: 'str-chat__message-attachment-card--flex' },\n                title && React.createElement(\"div\", { className: 'str-chat__message-attachment-card--title' }, title),\n                text && React.createElement(\"div\", { className: 'str-chat__message-attachment-card--text' }, text),\n                (title_link || og_scrape_url) && (React.createElement(SafeAnchor, { className: 'str-chat__message-attachment-card--url', href: title_link || og_scrape_url, rel: 'noopener noreferrer', target: '_blank' }, getHostFromURL(title_link || og_scrape_url))))))));\n};\nvar SourceLink = function (_a) {\n    var author_name = _a.author_name, url = _a.url;\n    return (React.createElement(\"div\", { className: 'str-chat__message-attachment-card--source-link', \"data-testid\": 'card-source-link' },\n        React.createElement(SafeAnchor, { className: 'str-chat__message-attachment-card--url', href: url, rel: 'noopener noreferrer', target: '_blank' }, author_name || getHostFromURL(url))));\n};\nvar CardHeader = function (props) {\n    var asset_url = props.asset_url, dimensions = props.dimensions, image = props.image, image_url = props.image_url, thumb_url = props.thumb_url, title = props.title, type = props.type;\n    var visual = null;\n    if (asset_url && type === 'video') {\n        visual = (React.createElement(ReactPlayer, { className: 'react-player', controls: true, height: '100%', url: asset_url, width: '100%' }));\n    }\n    else if (image) {\n        visual = (React.createElement(ImageComponent, { dimensions: dimensions, fallback: title || image, image_url: image_url, thumb_url: thumb_url }));\n    }\n    return visual ? (React.createElement(\"div\", { className: 'str-chat__message-attachment-card--header str-chat__message-attachment-card-react--header', \"data-testid\": 'card-header' }, visual)) : null;\n};\nvar CardContent = function (props) {\n    var author_name = props.author_name, og_scrape_url = props.og_scrape_url, text = props.text, title = props.title, title_link = props.title_link, type = props.type;\n    var url = title_link || og_scrape_url;\n    return (React.createElement(\"div\", { className: 'str-chat__message-attachment-card--content' }, type === 'audio' ? (React.createElement(CardAudio, { og: props })) : (React.createElement(\"div\", { className: 'str-chat__message-attachment-card--flex' },\n        url && React.createElement(SourceLink, { author_name: author_name, url: url }),\n        title && React.createElement(\"div\", { className: 'str-chat__message-attachment-card--title' }, title),\n        text && React.createElement(\"div\", { className: 'str-chat__message-attachment-card--text' }, text)))));\n};\nvar CardV2 = function (props) {\n    var asset_url = props.asset_url, giphy = props.giphy, image_url = props.image_url, thumb_url = props.thumb_url, title = props.title, title_link = props.title_link, type = props.type;\n    var giphyVersionName = useChannelStateContext('CardHeader').giphyVersion;\n    var image = thumb_url || image_url;\n    var dimensions = {};\n    if (type === 'giphy' && typeof giphy !== 'undefined') {\n        var giphyVersion = giphy[giphyVersionName];\n        image = giphyVersion.url;\n        dimensions.height = giphyVersion.height;\n        dimensions.width = giphyVersion.width;\n    }\n    if (!title && !title_link && !asset_url && !image) {\n        return React.createElement(UnableToRenderCard, null);\n    }\n    return (React.createElement(\"div\", { className: \"str-chat__message-attachment-card str-chat__message-attachment-card--\".concat(type) },\n        React.createElement(CardHeader, __assign({}, props, { dimensions: dimensions, image: image })),\n        React.createElement(CardContent, __assign({}, props))));\n};\nexport var CardAudio = function (_a) {\n    var _b = _a.og, asset_url = _b.asset_url, author_name = _b.author_name, og_scrape_url = _b.og_scrape_url, text = _b.text, title = _b.title, title_link = _b.title_link;\n    var _c = useAudioController(), audioRef = _c.audioRef, isPlaying = _c.isPlaying, progress = _c.progress, seek = _c.seek, togglePlay = _c.togglePlay;\n    var url = title_link || og_scrape_url;\n    var dataTestId = 'card-audio-widget';\n    var rootClassName = 'str-chat__message-attachment-card-audio-widget';\n    return (React.createElement(\"div\", { className: rootClassName, \"data-testid\": dataTestId },\n        asset_url && (React.createElement(React.Fragment, null,\n            React.createElement(\"audio\", { ref: audioRef },\n                React.createElement(\"source\", { \"data-testid\": 'audio-source', src: asset_url, type: 'audio/mp3' })),\n            React.createElement(\"div\", { className: 'str-chat__message-attachment-card-audio-widget--first-row' },\n                React.createElement(\"div\", { className: 'str-chat__message-attachment-audio-widget--play-controls' },\n                    React.createElement(PlayButton, { isPlaying: isPlaying, onClick: togglePlay })),\n                React.createElement(ProgressBar, { onClick: seek, progress: progress })))),\n        React.createElement(\"div\", { className: 'str-chat__message-attachment-audio-widget--second-row' },\n            url && React.createElement(SourceLink, { author_name: author_name, url: url }),\n            title && React.createElement(\"div\", { className: 'str-chat__message-attachment-audio-widget--title' }, title),\n            text && (React.createElement(\"div\", { className: 'str-chat__message-attachment-audio-widget--description' }, text)))));\n};\nvar UnMemoizedCard = function (props) {\n    var themeVersion = useChatContext('Card').themeVersion;\n    return themeVersion === '2' ? React.createElement(CardV2, __assign({}, props)) : React.createElement(CardV1, __assign({}, props));\n};\n/**\n * Simple Card Layout for displaying links\n */\nexport var Card = React.memo(UnMemoizedCard);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}